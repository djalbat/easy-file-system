"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _necessary = require("necessary");
var pathWithoutBottommostNameFromPath = _necessary.pathUtilities.pathWithoutBottommostNameFromPath;
function enableMarker() {
    // this.onDrop(dropHandler, this);
    this.onDragOver(dragOverHandler, this);
}
function disableMarker() {
    // this.offDrop(dropHandler, this);
    this.offDragOver(dragOverHandler, this);
}
function dropHandler(dragElement) {
    var name = this.getName(), dragEntryItem = dragElement, dragEntryItemName = dragEntryItem.getName();
    console.log("Drop '".concat(dragEntryItemName, "' onto ").concat(name, "'"));
}
function dragOverHandler(dragElement) {
    var path = this.getPath(), explorer = this.getExplorer(), markerEntryItem = explorer.retrieveMarkerEntryItem(), markerEntryItemPath = markerEntryItem.getPath(), markerEntryItemPathWithoutBottommostName = pathWithoutBottommostNameFromPath(markerEntryItemPath);
    console.log(path);
    if (path !== markerEntryItemPathWithoutBottommostName) {
        var dragEntryItem = dragElement, dragEntryItemType = dragEntryItem.getType(), dragEntryItemName = dragEntryItem.getName(), markerEntryItemPath1 = path === null ? dragEntryItemName : "".concat(path, "/").concat(dragEntryItemName);
        explorer.removeMarker();
        explorer.addMarker(markerEntryItemPath1, dragEntryItemType);
    }
}
var _default = {
    enableMarker: enableMarker,
    disableMarker: disableMarker
};
exports.default = _default;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taXhpbnMvbWFya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBwYXRoVXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5jb25zdCB7IHBhdGhXaXRob3V0Qm90dG9tbW9zdE5hbWVGcm9tUGF0aCB9ID0gcGF0aFV0aWxpdGllcztcblxuZnVuY3Rpb24gZW5hYmxlTWFya2VyKCkge1xuICAvLyB0aGlzLm9uRHJvcChkcm9wSGFuZGxlciwgdGhpcyk7XG5cbiAgdGhpcy5vbkRyYWdPdmVyKGRyYWdPdmVySGFuZGxlciwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVNYXJrZXIoKSB7XG4gIC8vIHRoaXMub2ZmRHJvcChkcm9wSGFuZGxlciwgdGhpcyk7XG5cbiAgdGhpcy5vZmZEcmFnT3ZlcihkcmFnT3ZlckhhbmRsZXIsIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkcm9wSGFuZGxlcihkcmFnRWxlbWVudCkge1xuICBjb25zdCBuYW1lID0gdGhpcy5nZXROYW1lKCksXG4gICAgICAgIGRyYWdFbnRyeUl0ZW0gPSBkcmFnRWxlbWVudCwgLy8vXG4gICAgICAgIGRyYWdFbnRyeUl0ZW1OYW1lID0gZHJhZ0VudHJ5SXRlbS5nZXROYW1lKCk7XG5cbiAgY29uc29sZS5sb2coYERyb3AgJyR7ZHJhZ0VudHJ5SXRlbU5hbWV9JyBvbnRvICR7bmFtZX0nYClcbn1cblxuZnVuY3Rpb24gZHJhZ092ZXJIYW5kbGVyKGRyYWdFbGVtZW50KSB7XG4gIGNvbnN0IHBhdGggPSB0aGlzLmdldFBhdGgoKSxcbiAgICAgICAgZXhwbG9yZXIgPSB0aGlzLmdldEV4cGxvcmVyKCksXG4gICAgICAgIG1hcmtlckVudHJ5SXRlbSA9IGV4cGxvcmVyLnJldHJpZXZlTWFya2VyRW50cnlJdGVtKCksXG4gICAgICAgIG1hcmtlckVudHJ5SXRlbVBhdGggPSBtYXJrZXJFbnRyeUl0ZW0uZ2V0UGF0aCgpLFxuICAgICAgICBtYXJrZXJFbnRyeUl0ZW1QYXRoV2l0aG91dEJvdHRvbW1vc3ROYW1lID0gcGF0aFdpdGhvdXRCb3R0b21tb3N0TmFtZUZyb21QYXRoKG1hcmtlckVudHJ5SXRlbVBhdGgpO1xuXG4gIGNvbnNvbGUubG9nKHBhdGgpXG5cbiAgaWYgKHBhdGggIT09IG1hcmtlckVudHJ5SXRlbVBhdGhXaXRob3V0Qm90dG9tbW9zdE5hbWUpIHtcbiAgICBjb25zdCBkcmFnRW50cnlJdGVtID0gZHJhZ0VsZW1lbnQsIC8vL1xuICAgICAgICAgIGRyYWdFbnRyeUl0ZW1UeXBlID0gZHJhZ0VudHJ5SXRlbS5nZXRUeXBlKCksXG4gICAgICAgICAgZHJhZ0VudHJ5SXRlbU5hbWUgPSBkcmFnRW50cnlJdGVtLmdldE5hbWUoKSxcbiAgICAgICAgICBtYXJrZXJFbnRyeUl0ZW1QYXRoID0gKHBhdGggPT09IG51bGwpID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnRW50cnlJdGVtTmFtZSA6IC8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7cGF0aH0vJHtkcmFnRW50cnlJdGVtTmFtZX1gO1xuXG4gICAgZXhwbG9yZXIucmVtb3ZlTWFya2VyKCk7XG5cbiAgICBleHBsb3Jlci5hZGRNYXJrZXIobWFya2VyRW50cnlJdGVtUGF0aCwgZHJhZ0VudHJ5SXRlbVR5cGUpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZW5hYmxlTWFya2VyLFxuICBkaXNhYmxlTWFya2VyXG59O1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJDQUFBLFVBQVk7Ozs7O0lBRWtCLFVBQVc7SUFFakMsaUNBQWlDLEdBRlgsVUFBVyxlQUVqQyxpQ0FBaUM7U0FFaEMsWUFBWTtJQUNuQixFQUFrQyxBQUFsQyxnQ0FBa0M7U0FFN0IsVUFBVSxDQUFDLGVBQWU7O1NBR3hCLGFBQWE7SUFDcEIsRUFBbUMsQUFBbkMsaUNBQW1DO1NBRTlCLFdBQVcsQ0FBQyxlQUFlOztTQUd6QixXQUFXLENBQUMsV0FBVztRQUN4QixJQUFJLFFBQVEsT0FBTyxJQUNuQixhQUFhLEdBQUcsV0FBVyxFQUMzQixpQkFBaUIsR0FBRyxhQUFhLENBQUMsT0FBTztJQUUvQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBNkIsTUFBSSxDQUEvQixpQkFBaUIsR0FBQyxPQUFPLEdBQU8sTUFBQyxDQUFOLElBQUksR0FBQyxDQUFDOztTQUcvQyxlQUFlLENBQUMsV0FBVztRQUM1QixJQUFJLFFBQVEsT0FBTyxJQUNuQixRQUFRLFFBQVEsV0FBVyxJQUMzQixlQUFlLEdBQUcsUUFBUSxDQUFDLHVCQUF1QixJQUNsRCxtQkFBbUIsR0FBRyxlQUFlLENBQUMsT0FBTyxJQUM3Qyx3Q0FBd0MsR0FBRyxpQ0FBaUMsQ0FBQyxtQkFBbUI7SUFFdEcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJO1FBRVosSUFBSSxLQUFLLHdDQUF3QztZQUM3QyxhQUFhLEdBQUcsV0FBVyxFQUMzQixpQkFBaUIsR0FBRyxhQUFhLENBQUMsT0FBTyxJQUN6QyxpQkFBaUIsR0FBRyxhQUFhLENBQUMsT0FBTyxJQUN6QyxvQkFBbUIsR0FBSSxJQUFJLEtBQUssSUFBSSxHQUNaLGlCQUFpQixNQUNKLE1BQWlCLENBQXpCLElBQUksR0FBQyxDQUFDLEdBQW9CLE1BQUEsQ0FBbEIsaUJBQWlCO1FBRTVELFFBQVEsQ0FBQyxZQUFZO1FBRXJCLFFBQVEsQ0FBQyxTQUFTLENBQUMsb0JBQW1CLEVBQUUsaUJBQWlCOzs7O0lBSzNELFlBQVksRUFBWixZQUFZO0lBQ1osYUFBYSxFQUFiLGFBQWEifQ==