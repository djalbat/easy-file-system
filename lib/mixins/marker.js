"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _necessary = require("necessary");
var pathWithoutBottommostNameFromPath = _necessary.pathUtilities.pathWithoutBottommostNameFromPath;
function enableMarker() {
    this.onDragOver(dragOverHandler, this);
}
function disableMarker() {
    this.offDragOver(dragOverHandler, this);
}
function dragOverHandler(dragElement) {
    var path = this.getPath(), explorer = this.getExplorer(), dragEntryItem = dragElement, markerEntryItem = explorer.retrieveMarkerEntryItem(), markerEntryItemPath = markerEntryItem.getPath(), dragEntryItemExplorer = dragEntryItem.getExplorer(), markerEntryItemPathWithoutBottommostName = pathWithoutBottommostNameFromPath(markerEntryItemPath);
    if (explorer !== dragEntryItemExplorer || path !== markerEntryItemPathWithoutBottommostName) {
        var dragEntryItemType = dragEntryItem.getType(), dragEntryItemName = dragEntryItem.getName(), markerEntryItemPath1 = path === null ? dragEntryItemName : "".concat(path, "/").concat(dragEntryItemName);
        explorer.removeMarker();
        explorer.addMarker(markerEntryItemPath1, dragEntryItemType);
    }
}
var _default = {
    enableMarker: enableMarker,
    disableMarker: disableMarker
};
exports.default = _default;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taXhpbnMvbWFya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBwYXRoVXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5jb25zdCB7IHBhdGhXaXRob3V0Qm90dG9tbW9zdE5hbWVGcm9tUGF0aCB9ID0gcGF0aFV0aWxpdGllcztcblxuZnVuY3Rpb24gZW5hYmxlTWFya2VyKCkge1xuICB0aGlzLm9uRHJhZ092ZXIoZHJhZ092ZXJIYW5kbGVyLCB0aGlzKTtcbn1cblxuZnVuY3Rpb24gZGlzYWJsZU1hcmtlcigpIHtcbiAgdGhpcy5vZmZEcmFnT3ZlcihkcmFnT3ZlckhhbmRsZXIsIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkcmFnT3ZlckhhbmRsZXIoZHJhZ0VsZW1lbnQpIHtcbiAgY29uc3QgcGF0aCA9IHRoaXMuZ2V0UGF0aCgpLFxuICAgICAgICBleHBsb3JlciA9IHRoaXMuZ2V0RXhwbG9yZXIoKSxcbiAgICAgICAgZHJhZ0VudHJ5SXRlbSA9IGRyYWdFbGVtZW50LCAgLy8vXG4gICAgICAgIG1hcmtlckVudHJ5SXRlbSA9IGV4cGxvcmVyLnJldHJpZXZlTWFya2VyRW50cnlJdGVtKCksXG4gICAgICAgIG1hcmtlckVudHJ5SXRlbVBhdGggPSBtYXJrZXJFbnRyeUl0ZW0uZ2V0UGF0aCgpLFxuICAgICAgICBkcmFnRW50cnlJdGVtRXhwbG9yZXIgPSBkcmFnRW50cnlJdGVtLmdldEV4cGxvcmVyKCksXG4gICAgICAgIG1hcmtlckVudHJ5SXRlbVBhdGhXaXRob3V0Qm90dG9tbW9zdE5hbWUgPSBwYXRoV2l0aG91dEJvdHRvbW1vc3ROYW1lRnJvbVBhdGgobWFya2VyRW50cnlJdGVtUGF0aCk7XG5cbiAgaWYgKChleHBsb3JlciAhPT0gZHJhZ0VudHJ5SXRlbUV4cGxvcmVyKSB8fCAocGF0aCAhPT0gbWFya2VyRW50cnlJdGVtUGF0aFdpdGhvdXRCb3R0b21tb3N0TmFtZSkpIHtcbiAgICBjb25zdCBkcmFnRW50cnlJdGVtVHlwZSA9IGRyYWdFbnRyeUl0ZW0uZ2V0VHlwZSgpLFxuICAgICAgICAgIGRyYWdFbnRyeUl0ZW1OYW1lID0gZHJhZ0VudHJ5SXRlbS5nZXROYW1lKCksXG4gICAgICAgICAgbWFya2VyRW50cnlJdGVtUGF0aCA9IChwYXRoID09PSBudWxsKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0VudHJ5SXRlbU5hbWUgOiAvLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3BhdGh9LyR7ZHJhZ0VudHJ5SXRlbU5hbWV9YDtcblxuICAgIGV4cGxvcmVyLnJlbW92ZU1hcmtlcigpO1xuXG4gICAgZXhwbG9yZXIuYWRkTWFya2VyKG1hcmtlckVudHJ5SXRlbVBhdGgsIGRyYWdFbnRyeUl0ZW1UeXBlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGVuYWJsZU1hcmtlcixcbiAgZGlzYWJsZU1hcmtlclxufTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FBQSxVQUFZOzs7OztJQUVrQixVQUFXO0lBRWpDLGlDQUFpQyxHQUZYLFVBQVcsZUFFakMsaUNBQWlDO1NBRWhDLFlBQVk7U0FDZCxVQUFVLENBQUMsZUFBZTs7U0FHeEIsYUFBYTtTQUNmLFdBQVcsQ0FBQyxlQUFlOztTQUd6QixlQUFlLENBQUMsV0FBVztRQUM1QixJQUFJLFFBQVEsT0FBTyxJQUNuQixRQUFRLFFBQVEsV0FBVyxJQUMzQixhQUFhLEdBQUcsV0FBVyxFQUMzQixlQUFlLEdBQUcsUUFBUSxDQUFDLHVCQUF1QixJQUNsRCxtQkFBbUIsR0FBRyxlQUFlLENBQUMsT0FBTyxJQUM3QyxxQkFBcUIsR0FBRyxhQUFhLENBQUMsV0FBVyxJQUNqRCx3Q0FBd0MsR0FBRyxpQ0FBaUMsQ0FBQyxtQkFBbUI7UUFFakcsUUFBUSxLQUFLLHFCQUFxQixJQUFNLElBQUksS0FBSyx3Q0FBd0M7WUFDdEYsaUJBQWlCLEdBQUcsYUFBYSxDQUFDLE9BQU8sSUFDekMsaUJBQWlCLEdBQUcsYUFBYSxDQUFDLE9BQU8sSUFDekMsb0JBQW1CLEdBQUksSUFBSSxLQUFLLElBQUksR0FDWixpQkFBaUIsTUFDSixNQUFpQixDQUF6QixJQUFJLEdBQUMsQ0FBQyxHQUFvQixNQUFBLENBQWxCLGlCQUFpQjtRQUU1RCxRQUFRLENBQUMsWUFBWTtRQUVyQixRQUFRLENBQUMsU0FBUyxDQUFDLG9CQUFtQixFQUFFLGlCQUFpQjs7OztJQUszRCxZQUFZLEVBQVosWUFBWTtJQUNaLGFBQWEsRUFBYixhQUFhIn0=