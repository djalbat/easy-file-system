"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _necessary = require("necessary");
var pathWithoutBottommostNameFromPath = _necessary.pathUtilities.pathWithoutBottommostNameFromPath;
function enableMarker() {
    // this.onDrop(dropHandler, this);
    this.onDragOver(dragOverHandler, this);
}
function disableMarker() {
    // this.offDrop(dropHandler, this);
    this.offDragOver(dragOverHandler, this);
}
function dropHandler(dragElement) {
    var name = this.getName(), dragEntryItem = dragElement, dragEntryItemName = dragEntryItem.getName();
    console.log("Drop '".concat(dragEntryItemName, "' onto ").concat(name, "'"));
}
function dragOverHandler(dragElement) {
    var path = this.getPath(), explorer = this.getExplorer(), markerEntryItem = explorer.retrieveMarkerEntryItem(), markerEntryItemPath = markerEntryItem.getPath(), markerEntryItemPathWithoutBottommostName = pathWithoutBottommostNameFromPath(markerEntryItemPath);
    if (path !== markerEntryItemPathWithoutBottommostName) {
        var dragEntryItem = dragElement, dragEntryItemType = dragEntryItem.getType(), dragEntryItemName = dragEntryItem.getName(), markerEntryItemPath1 = path === null ? dragEntryItemName : "".concat(path, "/").concat(dragEntryItemName);
        explorer.removeMarker();
        explorer.addMarker(markerEntryItemPath1, dragEntryItemType);
    }
}
var _default = {
    enableMarker: enableMarker,
    disableMarker: disableMarker
};
exports.default = _default;

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taXhpbnMvbWFya2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBwYXRoVXRpbGl0aWVzIH0gZnJvbSBcIm5lY2Vzc2FyeVwiO1xuXG5jb25zdCB7IHBhdGhXaXRob3V0Qm90dG9tbW9zdE5hbWVGcm9tUGF0aCB9ID0gcGF0aFV0aWxpdGllcztcblxuZnVuY3Rpb24gZW5hYmxlTWFya2VyKCkge1xuICAvLyB0aGlzLm9uRHJvcChkcm9wSGFuZGxlciwgdGhpcyk7XG5cbiAgdGhpcy5vbkRyYWdPdmVyKGRyYWdPdmVySGFuZGxlciwgdGhpcyk7XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVNYXJrZXIoKSB7XG4gIC8vIHRoaXMub2ZmRHJvcChkcm9wSGFuZGxlciwgdGhpcyk7XG5cbiAgdGhpcy5vZmZEcmFnT3ZlcihkcmFnT3ZlckhhbmRsZXIsIHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkcm9wSGFuZGxlcihkcmFnRWxlbWVudCkge1xuICBjb25zdCBuYW1lID0gdGhpcy5nZXROYW1lKCksXG4gICAgICAgIGRyYWdFbnRyeUl0ZW0gPSBkcmFnRWxlbWVudCwgLy8vXG4gICAgICAgIGRyYWdFbnRyeUl0ZW1OYW1lID0gZHJhZ0VudHJ5SXRlbS5nZXROYW1lKCk7XG5cbiAgY29uc29sZS5sb2coYERyb3AgJyR7ZHJhZ0VudHJ5SXRlbU5hbWV9JyBvbnRvICR7bmFtZX0nYClcbn1cblxuZnVuY3Rpb24gZHJhZ092ZXJIYW5kbGVyKGRyYWdFbGVtZW50KSB7XG4gIGNvbnN0IHBhdGggPSB0aGlzLmdldFBhdGgoKSxcbiAgICAgICAgZXhwbG9yZXIgPSB0aGlzLmdldEV4cGxvcmVyKCksXG4gICAgICAgIG1hcmtlckVudHJ5SXRlbSA9IGV4cGxvcmVyLnJldHJpZXZlTWFya2VyRW50cnlJdGVtKCksXG4gICAgICAgIG1hcmtlckVudHJ5SXRlbVBhdGggPSBtYXJrZXJFbnRyeUl0ZW0uZ2V0UGF0aCgpLFxuICAgICAgICBtYXJrZXJFbnRyeUl0ZW1QYXRoV2l0aG91dEJvdHRvbW1vc3ROYW1lID0gcGF0aFdpdGhvdXRCb3R0b21tb3N0TmFtZUZyb21QYXRoKG1hcmtlckVudHJ5SXRlbVBhdGgpO1xuXG4gIGlmIChwYXRoICE9PSBtYXJrZXJFbnRyeUl0ZW1QYXRoV2l0aG91dEJvdHRvbW1vc3ROYW1lKSB7XG4gICAgY29uc3QgZHJhZ0VudHJ5SXRlbSA9IGRyYWdFbGVtZW50LCAvLy9cbiAgICAgICAgICBkcmFnRW50cnlJdGVtVHlwZSA9IGRyYWdFbnRyeUl0ZW0uZ2V0VHlwZSgpLFxuICAgICAgICAgIGRyYWdFbnRyeUl0ZW1OYW1lID0gZHJhZ0VudHJ5SXRlbS5nZXROYW1lKCksXG4gICAgICAgICAgbWFya2VyRW50cnlJdGVtUGF0aCA9IChwYXRoID09PSBudWxsKSA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0VudHJ5SXRlbU5hbWUgOiAvLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3BhdGh9LyR7ZHJhZ0VudHJ5SXRlbU5hbWV9YDtcblxuICAgIGV4cGxvcmVyLnJlbW92ZU1hcmtlcigpO1xuXG4gICAgZXhwbG9yZXIuYWRkTWFya2VyKG1hcmtlckVudHJ5SXRlbVBhdGgsIGRyYWdFbnRyeUl0ZW1UeXBlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGVuYWJsZU1hcmtlcixcbiAgZGlzYWJsZU1hcmtlclxufTtcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQ0FBQSxVQUFZOzs7OztJQUVrQixVQUFXO0lBRWpDLGlDQUFpQyxHQUZYLFVBQVcsZUFFakMsaUNBQWlDO1NBRWhDLFlBQVk7SUFDbkIsRUFBa0MsQUFBbEMsZ0NBQWtDO1NBRTdCLFVBQVUsQ0FBQyxlQUFlOztTQUd4QixhQUFhO0lBQ3BCLEVBQW1DLEFBQW5DLGlDQUFtQztTQUU5QixXQUFXLENBQUMsZUFBZTs7U0FHekIsV0FBVyxDQUFDLFdBQVc7UUFDeEIsSUFBSSxRQUFRLE9BQU8sSUFDbkIsYUFBYSxHQUFHLFdBQVcsRUFDM0IsaUJBQWlCLEdBQUcsYUFBYSxDQUFDLE9BQU87SUFFL0MsT0FBTyxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQTZCLE1BQUksQ0FBL0IsaUJBQWlCLEdBQUMsT0FBTyxHQUFPLE1BQUMsQ0FBTixJQUFJLEdBQUMsQ0FBQzs7U0FHL0MsZUFBZSxDQUFDLFdBQVc7UUFDNUIsSUFBSSxRQUFRLE9BQU8sSUFDbkIsUUFBUSxRQUFRLFdBQVcsSUFDM0IsZUFBZSxHQUFHLFFBQVEsQ0FBQyx1QkFBdUIsSUFDbEQsbUJBQW1CLEdBQUcsZUFBZSxDQUFDLE9BQU8sSUFDN0Msd0NBQXdDLEdBQUcsaUNBQWlDLENBQUMsbUJBQW1CO1FBRWxHLElBQUksS0FBSyx3Q0FBd0M7WUFDN0MsYUFBYSxHQUFHLFdBQVcsRUFDM0IsaUJBQWlCLEdBQUcsYUFBYSxDQUFDLE9BQU8sSUFDekMsaUJBQWlCLEdBQUcsYUFBYSxDQUFDLE9BQU8sSUFDekMsb0JBQW1CLEdBQUksSUFBSSxLQUFLLElBQUksR0FDWixpQkFBaUIsTUFDSixNQUFpQixDQUF6QixJQUFJLEdBQUMsQ0FBQyxHQUFvQixNQUFBLENBQWxCLGlCQUFpQjtRQUU1RCxRQUFRLENBQUMsWUFBWTtRQUVyQixRQUFRLENBQUMsU0FBUyxDQUFDLG9CQUFtQixFQUFFLGlCQUFpQjs7OztJQUszRCxZQUFZLEVBQVosWUFBWTtJQUNaLGFBQWEsRUFBYixhQUFhIn0=